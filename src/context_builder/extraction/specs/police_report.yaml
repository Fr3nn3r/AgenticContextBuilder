doc_type: police_report
version: v0

required_fields:
  - incident_date

optional_fields:
  - report_number
  - report_date
  - location
  - vehicle_plate

field_rules:
  incident_date:
    normalize: date_to_iso
    validate: is_date
    hints:
      - "fecha del hecho"
      - "ocurrido"
      - "incidente"
      - "hora aproximada del hecho"
      - "fecha del incidente"

  report_number:
    normalize: uppercase_trim
    validate: non_empty
    hints:
      - "parte"
      - "parte no."
      - "reporte"
      - "acta"
      - "no."
      - "número"
      - "parte policial"

  report_date:
    normalize: date_to_iso
    validate: is_date
    hints:
      - "fecha de emisión"
      - "elaboración"
      - "fecha elaboración"
      - "fecha de impresión"

  location:
    normalize: uppercase_trim
    validate: non_empty
    hints:
      - "lugar"
      - "dirección"
      - "sector"
      - "ubicación"
      - "vía pública"

  vehicle_plate:
    normalize: plate_normalize
    validate: plate_like
    hints:
      - "placa"
      - "vehículo"
      - "matrícula"
      - "placas"

quality_gate:
  pass_if:
    - required_present_ratio >= 1.0
    - evidence_rate >= 0.7
  warn_if:
    - evidence_rate < 0.7
  fail_if:
    - required_present_ratio < 1.0
